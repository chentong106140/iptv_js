/*! nodejs-grunt 2018-01-04 */
!function(window,iptv){iptv.api={},iptv.api.log={},iptv.api.page={},iptv.api.user={},iptv.api.url={},iptv.extend(iptv.api.log,{postData:function(a,b){if(a&&b){var c=new Image,d=iptv.config.PlatFormApiPath+"log/"+a+".json?"+iptv.params(b);c.src=d,c.style.display="none",c=null}},pageLog:function(){var a={};a.curActionName=iptv.config.ActionName,a.lastActionName=iptv.getCookie("lastPageAction"),a.beFrom=iptv.getCookie("befrom")},buttonLog:function(a){var b={};b.buttonId=a,this.postData("logButton",b)},videoLog:function(a,b,c){if(a&&b&&c){var d={};d.videoId=a,d.startTime=b,d.endTime=c,this.postData("logVideo",d)}},delLatestPlayLog:function(videosId,success,errors){var data={};data.videosId=videosId,data.deleteFlag=1,iptv.ajax({method:"post",async:"false",data:data,url:iptv.config.PlatFormApiPath+"log/logLatestPlay.json",success:function(d){d=eval("("+d+")"),d&&d.code>0&&success&&success()},error:function(a,b){errors&&errors(a,b)}})},delCollectLog:function(videosId,success,errors){var data={};data.videosId=videosId,data.deleteFlag=1,iptv.ajax({method:"post",async:"false",data:data,url:iptv.config.PlatFormApiPath+"log/logCollect.json",success:function(d){d=eval("("+d+")"),d&&d.code>0&&success&&success()},error:function(a,b){errors&&errors(a,b)}})},activeLog:function(){if(null!=iptv.config.ActionName&&""!=iptv.config.ActionName){var a={};a.actionName=iptv.config.ActionName,this.postData("logActive",a)}}}),iptv.extend(iptv.api.page,{findPageData:function(requestData,success,errors){iptv.ajax({method:"post",async:"false",data:requestData,url:iptv.config.PlatFormApiPath+"common/findPageData.json",success:function(d){d=eval("("+d+")"),d&&0==d.code&&success&&success(d)},error:function(a,b){errors&&errors(a,b)}})},findPageInfo:function(requestData,success,authOrder,errors){iptv.ajax({method:"post",async:"false",data:requestData,url:iptv.config.PlatFormApiPath+"common/findPageInfo.json",success:function(d){d=eval("("+d+")"),d&&0==d.code?success&&success(d.pageData.pageInfo):d&&1002==d.code&&d.pageData&&d.pageData.pageInfo&&authOrder&&authOrder(d.pageData.pageInfo)},error:function(a,b){errors&&errors(a,b)}})},recommendNext:function(requestData,success,authOrder,errors){iptv.ajax({method:"post",async:"false",data:requestData,url:iptv.config.PlatFormApiPath+"recommonDetail.json",success:function(d){d=eval("("+d+")"),d&&0==d.code?success&&success(d.data):d&&1002==d.code&&authOrder&&authOrder(d.data)},error:function(a,b){errors&&errors(a,b)}})}}),iptv.extend(iptv.api.user,{postData:function(a,b,c){a&&b&&(b.productId=iptv.config.PID,iptv.ajax({method:"post",async:"false",data:b,url:iptv.config.PlatFormApiPath+"user/"+a+".json",success:function(a){c&&c(a)}}))},register:function(a,b){a&&this.postData("register",a,b)}}),iptv.extend(iptv.api.url,{getPayUrl:function(requestData,success,errors){iptv.ajax({method:"post",async:"false",data:requestData,url:iptv.config.PlatFormApiPath+"toPay.json",success:function(d){d=eval("("+d+")"),d&&0==d.code&&success&&success(d)},error:function(a,b){errors&&errors(a,b)}})},getNextUrl:function(a,b,c,d,e,f){return a?(a+=a.indexOf("?")>-1?"&":"?",a+"f="+b+"&cid="+c+"&playBackUrl="+d+"&backUrl="+e+f):void 0},getOrderPageUrl:function(a,b,c,d,e,f){return a?(a+=a.indexOf("?")>-1?"&":"?",f=null==f||void 0==f?0:f,a+"intoType="+f+"&rid="+b+"&cid="+c+"&backUrl="+d+"&nextUrl="+e):void 0},getPlayPageUrl:function(a,b,c,d){return a?(a+=a.indexOf("?")>-1?"&":"?",a+"videoId="+b+"&playBackUrl="+c+"&backUrl="+d):void 0},getPlayUrl:function(videoId_,playBackUrl_,success,error){iptv.ajax({method:"post",async:"false",data:{videoId:videoId_,playBackUrl:playBackUrl_,returnUrl:encodeURIComponent(iptv.config.PlayReturnUrl)},url:iptv.config.PlatFormApiPath+"playvideo.json",success:function(d){d=eval("("+d+")"),d&&0==d.code&&success&&success(d)},error:function(a,b){errors&&errors(a,b)}})}})}(window,iptv);